<!-- TOC -->

- [1. 光源与材质的交互](#1-光源与材质的交互)
  - [1.1. 材质](#11-材质)
  - [1.2. 光源](#12-光源)
    - [1.2.1. 三色论](#121-三色论)
    - [1.2.2. 局部光照模型](#122-局部光照模型)
    - [1.2.3. 全局光照模型](#123-全局光照模型)
- [2. 法向量](#2-法向量)
  - [2.1. 计算法向量](#21-计算法向量)
  - [2.2. 变换法向量](#22-变换法向量)
- [3. 光照模型](#3-光照模型)
  - [3.1. lanmbert's cosine law 朗伯余弦定律](#31-lanmberts-cosine-law-朗伯余弦定律)
  - [3.2. 漫反射](#32-漫反射)
  - [3.3. 环境光照](#33-环境光照)
  - [3.4. 镜面光照](#34-镜面光照)
    - [3.4.1. 菲涅尔效应](#341-菲涅尔效应)
    - [3.4.2. 表面粗糙度](#342-表面粗糙度)
- [4. 不同类型的光源](#4-不同类型的光源)

<!-- /TOC -->


这一章可以参考[以前的总结](../PBS/LightingMode.md)

# 1. 光源与材质的交互
## 1.1. 材质
材质是光照月物体表面如何进行交互的属性集。包括：
- 表面反射光和吸收光的颜色
- 表面下材质的折射率
- 表面的光滑度以及表面的透明度
  
## 1.2. 光源
### 1.2.1. 三色论
### 1.2.2. 局部光照模型
### 1.2.3. 全局光照模型

# 2. 法向量
插值算法

## 2.1. 计算法向量
- 三角形：边的叉乘之后归一化
- 曲面：求顶点法线平均值：顶点周围平面的法向量求平均值。

## 2.2. 变换法向量
如果使用了非等比变化，或者剪切变换之后，需要用变换矩阵的逆转置矩阵进行变换，其他情况下直接使用变换矩阵。

# 3. 光照模型
## 3.1. lanmbert's cosine law 朗伯余弦定律
- 垂直照射的时候，光照强度要大于其他角度照射的强度
- 其他角度照射时，会导致面积变大，变为原来的$cos\theta$
- 最小强度为0，不可为负值

## 3.2. 漫反射
## 3.3. 环境光照
## 3.4. 镜面光照
### 3.4.1. 菲涅尔效应
- Schlick 近似方法
- 决定因素：
  - 材质：垂直照射时的反射率
  - 法线与光线的夹角

### 3.4.2. 表面粗糙度
- 微表面模型
  - 法线分布函数
  - 几何衰减函数

# 4. 不同类型的光源
- 平行光
- 点光源
- 聚光灯光源